<!DOCTYPE html>
<html lang="en">
<head>
  <title>layer_exp</title>
  <script src="../Build/Cesium/Cesium.js"></script>
  <!--script src="GeoserverTerrainProvider.js" type="text/javascript"></script-->
  <script src="GTP.js" type="text/javascript"></script>
  <style>
  @import url(../Build/Cesium/Widgets/CesiumWidget/CesiumWidget.css);

  #cesiumContainer {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      margin: 0;
      overflow: hidden;
      padding: 0;
      font-family: sans-serif;
  }

  body {
      padding: 0;
      margin: 0;
      overflow: hidden;
  }
	  .toolbar-left {
            display: block;
            position: absolute;
            top: 5px;
            left: 5px;
			}

</style>
<!--style>
      @import url(../Build/Cesium/Widgets/widgets.css);
      html, body, #cesiumContainer {
          width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden;
      }
  </style-->
</head>
<body>
  <div id="cesiumContainer"></div>
  <div class="toolbar-left">
  <button onclick="initialView()">Initial View</button>
  <!--canvas id="cesiumContainer"></canvas-->
  <script>
  
	var viewer = new Cesium.CesiumWidget('cesiumContainer');
	var ps=new Cesium.Cartographic.fromDegrees(78.3352765625, 21.173860625, 6900000);
	//var ps = new Cesium.Cartesian3.fromDegrees(78.3352765625, 21.173860625, 6900000);
    viewer.scene.camera.setView({positionCartesian3 : ps});
	
	// LOAD LAYER
/*var url='http://bhuvan3.nrsc.gov.in/tilecache/tilecache.py?'; //Service URL
//var url = "http://localhost:8080/geoserver/elevation/wms";
var layers = viewer.scene.globe.imageryLayers;
    layers.removeAll();
    layers.addImageryProvider(new Cesium.WebMapServiceImageryProvider({
		//proxy : new Cesium.DefaultProxy('proxy.php'),
        url : url,        
        layers: 'bhuvan_imagery'
		//layers : "srtm_global_90m_tiled",
    }));*/
//viewer.dataSources.add(Cesium.CzmlDataSource.load('SampleData/sample_new.czml'));
//Sandcastle.finishedLoading();


// LOAD TERRAIN
var terrainProvider = new Cesium.GeoserverTerrainProvider({
		//proxy : new Cesium.DefaultProxy('proxy.php'),
		//service : "WMS",
        url : "http://localhost:8080/geoserver/elevation/wms",
		
        layerName: "SRTM_1km",
		//layerName: "srtm_global_90m_tiled",
		//layerName:"SRTM_india_90m_tiled",
		//hasStyledImage: false,
		//styleName:"grayToColor",,
        getTileDataAvailable:true,
        waterMask:true
    });
	
	
	viewer.terrainProvider = terrainProvider;
	
	//viewer.dataSources.add(Cesium.KmlDataSource.load('hyd_built.kmz'));
	
	function initialView() {
		viewer.scene.camera.flyTo({
			destination : Cesium.Cartesian3.fromDegrees(78.3352765625, 21.173860625, 6900000)
		});
	}
	
	
	
	//viewer.dataSources.add(Cesium.CzmlDataSource.load("../feature.czml"));
	
  </script>
</body>
</html>